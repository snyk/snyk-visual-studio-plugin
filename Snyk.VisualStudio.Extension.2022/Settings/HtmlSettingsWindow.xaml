<Window x:Class="Snyk.VisualStudio.Extension.Settings.HtmlSettingsWindow"
                 x:Name="SettingsWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:toolkit="clr-namespace:Community.VisualStudio.Toolkit;assembly=Community.VisualStudio.Toolkit"
                 xmlns:ui="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Shell.15.0"
                 xmlns:catalog="clr-namespace:Microsoft.VisualStudio.Imaging;assembly=Microsoft.VisualStudio.ImageCatalog"
                 xmlns:imaging="clr-namespace:Microsoft.VisualStudio.Imaging;assembly=Microsoft.VisualStudio.Imaging"
                 mc:Ignorable="d"
                 WindowStartupLocation="CenterScreen"
                 MinHeight="750" Height="850"
                 MinWidth="600" Width="950"
                 ResizeMode="CanResize"
                 toolkit:Themes.UseVsTheme="True"
                 Title="Snyk Settings"
                 Loaded="Window_Loaded">
    <!-- TEMP: WindowChrome removed to test DPI handling -->
    <!-- <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0"
                      ResizeBorderThickness="5"
                      GlassFrameThickness="0"
                      CornerRadius="0" />
    </WindowChrome.WindowChrome> -->
    <DockPanel Margin="10">
        <!-- Top: Draggable Bar with Close Button -->
        <Grid DockPanel.Dock="Top" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Draggable area (empty, just for dragging) -->
            <Border Grid.Column="0"
                    Background="Transparent"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown"
                    Height="35" />

            <!-- Close button -->
            <Button Grid.Column="1"
                    Click="CloseButton_OnClick"
                    MinWidth="35"
                    Width="35"
                    Height="35"
                    Padding="0">
                <imaging:CrispImage Moniker="{x:Static catalog:KnownMonikers.Close}" />
            </Button>
        </Grid>

        <!-- Bottom: OK and Cancel Buttons -->
        <StackPanel HorizontalAlignment="Right" DockPanel.Dock="Bottom" Orientation="Horizontal" Margin="0,10,0,0">
            <Button x:Name="OkButton" Margin="5, 5" Content="OK" Click="OkButton_OnClick"
                    IsEnabled="{Binding ElementName=SettingsWindow, Path=IsDirty}" MinWidth="75" />
            <Button x:Name="CancelButton" Margin="5, 5" Content="Cancel" Click="CancelButton_OnClick" MinWidth="75" />
        </StackPanel>

        <!-- Center: WebBrowser -->
        <Grid>
            <WebBrowser x:Name="SettingsBrowser"
                        VerticalAlignment="Stretch"
                        HorizontalAlignment="Stretch"
                        UseLayoutRounding="True" />
            <TextBlock x:Name="LoadingStatusLabel"
                       Text="Loading settings..."
                       FontSize="16"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center" />
        </Grid>
    </DockPanel>
</Window>
